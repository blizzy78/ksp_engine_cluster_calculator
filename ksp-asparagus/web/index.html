<!DOCTYPE html>
<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Engine Layout Calculator for KSP</title>

<link rel="stylesheet" href="css/bootstrap-3.0.0.min.css" media="all"/>
<link rel="stylesheet" href="css/styles.css" media="all"/>

<script src="js/jquery-2.0.3.min.js"></script>
<script src="js/bootstrap-3.0.0.min.js"></script>
<script src="js/jcanvas-13.08.26.min.js"></script>
<script src="js/engines.js"></script>
<script src="js/asparagus.js"></script>

</head>

<body id="#top">

<div class="container">

<div class="row">
	<div class="col-md-12">
		<div class="page-header">
			<h1>Engine Layout Calculator for KSP</h1>
			<h6>by <a href="http://forum.kerbalspaceprogram.com/member.php/70339-blizzy78">blizzy</a>,
				based on Temstar's <a href="http://forum.kerbalspaceprogram.com/showthread.php/28248-Is-asparagus-the-best-staging-system-%28might-contain-science%29?p=346702&viewfull=1#post346702">rocket
				configuration guide</a></h6>
		</div>
			
		<p>
		This calculator can be used to work out the engine layout for a center stack and attached booster stacks
		required for liftoff. Note that booster stacks are expected to be staged
		<a href="http://wiki.kerbalspaceprogram.com/wiki/Tutorial:Asparagus_Staging">&quot;asparagus&quot;-style</a>.
		Also, to get better results you should allow part clipping because there is more flexibility in attaching
		engines to tanks.
		</p>
		
		<p>
		<small><em>This page uses advanced HTML and JavaScript features, so better get a <a href="http://www.browserchoice.eu">modern web browser</a>.
		Most specifically, Internet Explorer 9 or older are not supported.</em></small>
		</p>
	</div>
</div>

<div id="calculatorAndOutput" class="row">
	<div class="col-md-7">
		<div class="row">
			<div class="col-lg-7">
				<div class="panel panel-default">
					<div class="panel-heading">Center Stack</div>
					<div class="panel-body">
						<canvas width="335" height="335" id="centralConfig"></canvas>
					</div>
				</div>
			</div>
			<div class="col-md-5" id="centralDescription"></div>
		</div>
		<div class="row">
			<div class="col-lg-7">
				<div class="panel panel-default">
					<div class="panel-heading">Booster Stack</div>
					<div class="panel-body">
						<canvas width="335" height="335" id="boosterConfig"></canvas>
					</div>
				</div>
			</div>
			<div class="col-md-5">
				<div id="boosterDescription"></div>
				<div id="rocketTotals"></div>
			</div>
		</div>
	</div>

	<div class="col-md-5">
		<div class="panel panel-default">
		<div class="panel-heading">Configuration Calculator</div>
		<div class="panel-body">
		
		<form id="options" class="form-horizontal">
			<div class="form-group">
				<label class="col-md-6 control-label">Payload mass:</label>
				<div class="col-md-6 input-group">
					<input name="payloadMass" type="text" value="44" class="form-control input-sm"/>
					<span class="input-group-addon">t</span>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label"><a href="http://en.wikipedia.org/wiki/Payload_fraction">Payload fraction</a>:</label>
				<div class="col-md-6 input-group">
					<input name="payloadFraction" type="text" value="15" class="form-control input-sm"/>
					<span class="input-group-addon">%</span>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label">Min. <a href="http://en.wikipedia.org/wiki/Thrust-to-weight_ratio">TWR</a>:</label>
				<div class="col-md-6">
					<input name="minTWR" type="text" value="1.6" class="form-control input-sm"/>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label">Max. TWR:</label>
				<div class="col-md-6">
					<input name="maxTWR" type="text" value="1.7" class="form-control input-sm"/>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label">Center stack size:</label>
				<div class="col-md-6">
					<select name="centralStackSize" class="form-control input-sm">
						<option value="0.625">0.625 m</option>
						<option value="1.25">1.25 m</option>
						<option value="2.5" selected="true">2.5 m</option>
						<option value="3.75">3.75 m</option>
						<option value="5">5 m</option>
					</select>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label">Min. boosters:</label>
				<div class="col-md-6">
					<input name="minBoosters" type="text" value="0" class="form-control input-sm"/>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label">Max. boosters:</label>
				<div class="col-md-6">
					<input name="maxBoosters" type="text" value="6" class="form-control input-sm"/>
				</div>
			</div>

			<div class="form-group">
				<div class="col-md-6 col-md-offset-6">
					<label class="checkbox">
						<input name="allowPartClipping" type="checkbox" value="true" checked="true"/> Allow part clipping
					</label>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label">Min. center thrust:</label>
				<div class="col-md-6 input-group">
					<input name="minCentralThrustFraction" type="text" value="20" class="form-control input-sm"/>
					<span class="input-group-addon">%</span>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label">Max. center thrust:</label>
				<div class="col-md-6 input-group">
					<input name="maxCentralThrustFraction" type="text" value="25" class="form-control input-sm"/>
					<span class="input-group-addon">%</span>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label">Max. center outer engines:</label>
				<div class="col-md-6">
					<input name="maxCentralOuterEngines" type="text" value="4" class="form-control input-sm"/>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label">Max. booster outer engines:</label>
				<div class="col-md-6">
					<input name="maxBoosterOuterEngines" type="text" value="4" class="form-control input-sm"/>
				</div>
			</div>
			
			<div class="form-group">
				<label class="col-md-6 control-label">Calculate for:</label>
				<div class="col-md-6">
					<select name="calculateFor" class="form-control input-sm">
						<option value="twr">Best TWR (vessel)</option>
						<option value="engineTWR" selected="true">Best TWR (engines only)</option>
						<option value="numParts">Min. number of engines</option>
					</select>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-6 control-label">Engine packs:</label>
				<div class="col-md-6" id="enginePacks">
				</div>
			</div>
			
			<div class="form-group">
				<p class="help-block col-md-10 col-md-offset-1">
				<strong>Warning:</strong> Calculation may take a while if many engine packs are selected.
				Please be patient.
				</p>
			</div>
			
			<div class="form-group">
				<div class="col-md-12 text-center">
					<button type="submit" class="btn btn-primary">Calculate</button>
					<button type="reset" class="btn btn-default">Reset</button>
				</div>
			</div>
		</form>
		
		</div></div>
	</div>
</div>

</div>

<footer class="footer">
	<div class="container">
		<p class="text-center">
		Last updated for KSP 0.21.1 on 2013-08-31.
		</p>
		
		<p class="text-center">
		Copyright &copy; 2013 by Maik Schreiber
		</p>
	</div>
</footer>

</body>

</html>
